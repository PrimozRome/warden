<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <title>Warden</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="More than just a user database auth package for FuelPHP.">
    <meta name="author" content="Andrew Wayne">

    <link href="http://twitter.github.com/bootstrap/assets/css/bootstrap.css" rel="stylesheet">
    <link href="http://twitter.github.com/bootstrap/assets/css/bootstrap-responsive.css" rel="stylesheet">
    <link href="assets/css/docs.css" rel="stylesheet">
    <link href="assets/js/google-code-prettify/prettify.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="assets/ico/favicon.ico">
    <link rel="apple-touch-icon" href="assets/ico/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="assets/ico/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="assets/ico/apple-touch-icon-114x114.png">
  </head>

  <body data-spy="scroll" data-target=".subnav" data-offset="50">

    <!-- Navbar
    ================================================== -->
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="./index.html">Warden</a>
          <div class="nav-collapse">
            <ul class="nav">
              <li>
                <a href="./index.html">Overview</a>
              </li>
              <li class="active">
                <a href="./getting-started.html">Getting Started &amp; Configuration</a>
              </li>
              <li class="divider-vertical"></li>
              <li class="dropdown">
                <a href="./examples.html" class="dropdown-toggle" data-toggle="dropdown">Examples <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="./examples/omniauthable.html">Omniauthable</a></li>
                  <li><a href="./examples/confirmable.html">Confirmable</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <header class="jumbotron subhead">
        <h1>Getting Started and Configuration</h1>
        <p class="lead">It's very easy to get started with Warden, here's how.</p>
      </header>

      <!-- Installation
      ================================================== -->
      <section id="installation">
        <div class="page-header">
          <h1>Setup <small>Getting it up and running.</small></h1>
        </div>

        <div class="row">
          <div class="span4">
            <p>
              This package follows standard installation rules.
              You have two options, you can autoload the package in your <em>app/config.php</em>:
            </p>
            <pre class="prettyprint linenums">
'always_load' => array(
  'packages'  => array(
    array('warden')
  ),
) //...</pre>

            <p>or load it manually like so:</p>
            <pre class="prettyprint linenums">Fuel::add_package('warden');</pre>
          </div>

          <div class="span8">
            <h3>There are two ways to install the Warden tables:</h3>

            <ol>
              <li>
                <h4>SQL File</h4>
                <p>View <code>config/install.sql</code> for table structures and import into your database.</p>
              </li>
              <li>
                <h4>Oil Task <small>(Recommended)</small></h4>
                <div class="alert">
                  Your database connection needs to be setup first for this to work.
                </div>
                <p><code>php oil r warden</code></p>
                <p>
                  This will install warden and the tables required depending on the values in your warden configuration file.
                  If no configuration file exists, Warden will create a file named <code>warden.php</code> in your <code>APPPATH/config</code> directory.
                </p>
              </li>
            </ol>

            <div class="alert alert-info">
              <strong>Heads up!</strong>
              Once done, don't forget to create your roles and permissions in the <code>roles</code> and <code>permissions</code> tables, respectively;
              in order to be able to assign roles and permissions to users.
            </div>
          </div>
        </div><!-- /row -->
      </section>




      <section id="configuration">
          <div class="page-header">
              <h1>Configuration <small>Settings &amp; things</small></h1>
          </div>

          <div class="row">
              <div class="span16">
                <table class="table table-striped table-bordered">
                  <thead>
                    <tr>
                      <th>Option</th>
                      <th>Type</th>
                      <th>Default</th>
                      <th>Description</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>lifetime</td>
                      <td>int</td>
                      <td>1209600 (two weeks)</td>
                      <td>The remember-me cookie lifetime, in seconds.</td>
                    </tr>
                    <tr>
                      <td>default_role</td>
                      <td>string</td>
                      <td>null</td>
                      <td>The default role to assign a newly created user, it must already exist.</td>
                    </tr>
                    <tr>
                      <td>profilable <span class="label label-info">Feature</span></td>
                      <td>bool</td>
                      <td>true</td>
                      <td>
                        Adds user profile support.
                        Requires at least, a <code>profiles</code> table with an <code>id</code> and <code>user_id</code> column.
                        See the "Model_Profile" class in <code>classes/warden/model/profile.php</code>
                      </td>
                    </tr>
                    <tr>
                      <td>trackable <span class="label label-info">Feature</span></td>
                      <td>bool</td>
                      <td>true</td>
                      <td>
                        Set to track information everytime user logs in by using the following columns:
                        <ul>
                          <li><code>sign_in_count</code> - Increased every time a sign in is made (by form, openid, oauth).</li>
                          <li><code>current_sign_in_at</code> - A timestamp updated when the user signs in.</li>
                          <li><code>last_sign_in_at</code> - Holds the timestamp of the previous sign in.</li>
                          <li><code>current_sign_in_ip</code> - The remote ip updated when the user sign in.</li>
                          <li><code>last_sign_in_at</code> - Holds the remote ip of the previous sign in.</li>
                        </ul>
                      </td>
                    </tr>
                    <tr>
                      <td>recoverable <span class="label label-info">Feature</span></td>
                      <td>array</td>
                      <td>array</td>
                      <td>
                        Recoverable takes care of resetting the user password.
                        <br>
                        It uses the following columns:
                        <ul>
                          <li><code>reset_password_token</code> - The token sent to the user to allow them to reset their password.</li>
                          <li><code>reset_password_sent_at</code> - When the reset password token was sent to the user.</li>
                        </ul>
                        Configuration for recoverable:
                        <table class="table table-condensed">
                          <thead>
                            <tr>
                              <th>Option</th>
                              <th>Type</th>
                              <th>Default</th>
                              <th>Description</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td>in_use</td>
                              <td>bool</td>
                              <td>false</td>
                              <td>Set to true to enable this feature.</td>
                            </tr>
                            <tr>
                              <td>reset_password_within</td>
                              <td>string</td>
                              <td>+1 week</td>
                              <td>
                                The limit time within which the reset password token is valid.
                                Must always be a valid php date/time format.
                                See <a href="http://goo.gl/yiQvp"
                                       onclick="window.open('http://goo.gl/yiQvp', 'php', 'toolbar=no,menubar=no,location=no,scrollbars=no,resizable=no,width=800,height=400,left=250,top=50');return false;">
                                  PHP Date and Time Formats
                                </a>
                              </td>
                            </tr>
                            <tr>
                              <td>url</td>
                              <td>string</td>
                              <td>''</td>
                              <td>
                                The url a user will be taken to reset their password for their account (<code>eg. reset_password</code>).
                                This url will also be included in the mail sent to the user, appended by the reset password token.
                                Don't forget to add this url to your <code>APPPATH/config/routes.php</code> as
                                (<code>eg. 'reset_password/:token'</code>).
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </td>
                    </tr>
                    <tr>
                      <td>confirmable <span class="label label-info">Feature</span></td>
                      <td>array</td>
                      <td>array</td>
                      <td>
                        Confirmable is responsible to verify if an account is already confirmed to sign in.
                        <br>
                        It uses the following columns:
                        <ul>
                          <li><code>is_confirmed</code> - Flag whether the user account has been confirmed.</li>
                          <li><code>confirmation_token</code> - The token sent to the user to allow them to confirm their account.</li>
                          <li><code>confirmation_sent_at</code> - When the confirmation token was sent to the user.</li>
                        </ul>
                        Configuration for confirmable:
                        <table class="table table-condensed">
                          <thead>
                            <tr>
                              <th>Option</th>
                              <th>Type</th>
                              <th>Default</th>
                              <th>Description</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td>in_use</td>
                              <td>bool</td>
                              <td>false</td>
                              <td>Set to true to enable this feature.</td>
                            </tr>
                            <tr>
                              <td>confirm_within</td>
                              <td>string</td>
                              <td>+1 week</td>
                              <td>
                                The limit time within which the confirmation token is valid.
                                Must always be a valid php date/time format.
                                See <a href="http://goo.gl/yiQvp"
                                       onclick="window.open('http://goo.gl/yiQvp', 'php', 'toolbar=no,menubar=no,location=no,scrollbars=no,resizable=no,width=800,height=400,left=250,top=50');return false;">
                                  PHP Date and Time Formats
                                </a>
                              </td>
                            </tr>
                            <tr>
                              <td>url</td>
                              <td>string</td>
                              <td>''</td>
                              <td>
                                The url a user will be taken to confirm their account (<code>eg. confirmation</code>).
                                This url will also be included in the mail sent to the user, appended by the confirmation token.
                                Don't forget to add this url to your <code>APPPATH/config/routes.php</code> as
                                (<code>eg. 'confirmation/:token'</code>).
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </td>
                    </tr>
                    <tr>
                      <td>lockable <span class="label label-info">Feature</span></td>
                      <td>array</td>
                      <td>array</td>
                      <td>
                        Lockable handles blocking a user access after a certain number of attempts.
                        It accepts two different strategies to unlock a user after their account
                        blocked: (ie. email and time). The former will send an email to the user when
                        the lock happens, containing a link to unlock it's account. The second
                        will auto unlock the user automatically after some configured time (eg. +2 hours).
                        It's also possible to setup lockable to use both email and time strategies.
                        <br>
                        It uses the following columns:
                        <ul>
                          <li><code>failed_attempts</code> - The number of current failed sign in attempts.</li>
                          <li><code>unlock_token</code> - The token sent to the user to allow them to unlock their account (If email strategy is chosen).</li>
                          <li><code>locked_at</code> - When the user account was locked.</li>
                        </ul>
                        Configuration for lockable:
                        <table class="table table-condensed">
                          <thead>
                            <tr>
                              <th>Option</th>
                              <th>Type</th>
                              <th>Default</th>
                              <th>Description</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td>in_use</td>
                              <td>bool</td>
                              <td>false</td>
                              <td>Set to true to enable this feature.</td>
                            </tr>
                            <tr>
                              <td>maximum_attempts</td>
                              <td>int</td>
                              <td>10</td>
                              <td>
                                How many login attempts should be accepted before locking the user account.
                              </td>
                            </tr>
                            <tr>
                              <td>lock_strategy</td>
                              <td>string</td>
                              <td>sign_in_count</td>
                              <td>
                                Must be a valid integer column name in the users table.
                                The default is to use <code>trackable</code> <code>sign_in_count</code> column.
                                Set null for none.
                                Lock the user account by (eg. failed_attempts, `trackable's` sign_in_count)
                              </td>
                            </tr>
                            <tr>
                              <td>unlock_strategy</td>
                              <td>string</td>
                              <td>both</td>
                              <td>Unlock the user account by time, email, both or none.</td>
                            </tr>
                            <tr>
                              <td>unlock_in</td>
                              <td>string</td>
                              <td>+1 week</td>
                              <td>
                                The time you want to lock the user after a lock happens.
                                Only available when <code>unlock_strategy</code> is time or both.
                                See <a href="http://goo.gl/yiQvp"
                                       onclick="window.open('http://goo.gl/yiQvp', 'php', 'toolbar=no,menubar=no,location=no,scrollbars=no,resizable=no,width=800,height=400,left=250,top=50');return false;">
                                  PHP Date and Time Formats
                                </a>
                              </td>
                            </tr>
                            <tr>
                              <td>url</td>
                              <td>string</td>
                              <td>''</td>
                              <td>
                                The url a user will be taken to unlock their account (<code>eg. unlock</code>).
                                This url will also be included in the mail sent to the user, appended by the unlock token.
                                Don't forget to add this url to your <code>APPPATH/config/routes.php</code> as
                                (<code>eg. 'unlock/:token'</code>).
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </td>
                    </tr>
                    <tr>
                      <td>http_authenticatable <span class="label label-info">Feature</span></td>
                      <td>array</td>
                      <td>array</td>
                      <td>
                        HTTP Authenticatable provides basic and digest authentication based on the HTTP protocol.
                        <br>
                        Configuration for http_authenticatable:
                        <table class="table table-condensed">
                          <thead>
                            <tr>
                              <th>Option</th>
                              <th>Type</th>
                              <th>Default</th>
                              <th>Description</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td>in_use</td>
                              <td>bool</td>
                              <td>false</td>
                              <td>Set to true to enable this feature.</td>
                            </tr>
                            <tr>
                              <td>method</td>
                              <td>string</td>
                              <td>digest</td>
                              <td>
                                The type of HTTP method to use for authentication.
                              </td>
                            </tr>
                            <tr>
                              <td>realm</td>
                              <td>string</td>
                              <td>Protected by Warden</td>
                              <td>The HTTP authentication realm name.</td>
                            </tr>
                            <tr>
                              <td>users</td>
                              <td>array</td>
                              <td>array</td>
                              <td>
                                A key => value pair of username => password.
                                The users to permit.
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </td>
                    </tr>
                    <tr>
                      <td>omniauthable <span class="label label-info">Feature</span></td>
                      <td>array</td>
                      <td>array</td>
                      <td>
                        Adds oAuth login/signup support. Uses the <code>services</code> table.
                        <br>
                        Configuration for omniauthable:
                        <table class="table table-condensed">
                          <thead>
                            <tr>
                              <th>Option</th>
                              <th>Type</th>
                              <th>Default</th>
                              <th>Description</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td>in_use</td>
                              <td>bool</td>
                              <td>true</td>
                              <td>Set to false, to disable this feature.</td>
                            </tr>
                            <tr>
                              <td>urls</td>
                              <td>array</td>
                              <td>array</td>
                              <td>
                                The urls for omniauth. These urls should be added to your
                                <code>APPPATH/config/routes.php</code>.
                                Default:
                                <pre class="prettyprint linenums">
array(
  'registration' => 'auth/register',
  'login'        => 'auth/login',
  'callback'     => 'auth/callback',
  'registered'   => 'auth/account',
  'logged_in'    => 'auth/account',
);</pre>
                              </td>
                            </tr>
                            <tr>
                              <td>providers</td>
                              <td>array</td>
                              <td>array</td>
                              <td>
                                The providers that are available.
                                Providers such as Facebook, Twitter, etc all use different Strategies such as oAuth, oAuth2, etc.
                                oAuth takes a key and a secret, oAuth2 takes a (client) id and a secret, optionally a scope.
                              </td>
                            </tr>
                            <tr>
                              <td>link_multiple</td>
                              <td>bool</td>
                              <td>true</td>
                              <td>Whether multiple providers can be attached to one user account.</td>
                            </tr>
                          </tbody>
                        </table>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
          </div>
      </section>
    </div>


    <!-- Footer
    ================================================== -->
    <footer class="footer">
      <div class="container">
        <p class="pull-right"><a href="#">Back to top</a></p>
        <p>Created and built by <a href="http://twitter.com/heyando" target="_blank">@heyando</a>.</p>
        <p>Code licensed under the <a href="http://www.opensource.org/licenses/mit-license.php" target="_blank">MIT License</a>. Documentation licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.</p>
      </div>
    </footer>

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.0.1/bootstrap.min.js"></script>
    <script src="assets/js/google-code-prettify/prettify.js"></script>
    <script src="assets/js/application.js"></script>

    <!-- Analytics
    ================================================== -->
    <script>
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-29590272-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>